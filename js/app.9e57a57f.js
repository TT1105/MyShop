(function(){"use strict";var e={995:function(e,t,n){var o=n(9963),a=n(9679),l=n(6252);const r={class:"loadings"},u=(0,l.Uk)("加载中...");function i(e,t,n,o,a,i){const s=(0,l.up)("van-loading"),d=(0,l.up)("van-overlay"),c=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(d,{show:e.$store.state.loading,"z-index":"999"},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(s,{size:"24px",vertical:""},{default:(0,l.w5)((()=>[u])),_:1})])])),_:1},8,["show"]),(0,l.Wm)(c)],64)}var s=n(8637),d={setup(){(0,l.bv)((()=>{const e=(0,s.oR)();e.dispatch("upCarList")}))}},c=n(3744);const p=(0,c.Z)(d,[["render",i]]);var m=p,f=n(1405),v=n(4239);n(5110);(0,o.ri)(m).use(v.Z).use(a.ZP).use(f.Z).mount("#app")},9143:function(e,t,n){n.d(t,{Cn:function(){return l},Pi:function(){return r},Zj:function(){return a}});var o=n(7707);function a(){return(0,o.W)({url:"goods"})}function l(e=0,t="sales",n=1){return(0,o.W)({url:`goods?category_id=${e}&${t}=1&page=${n}`})}function r(e){return(0,o.W)({url:`goods/${e}`})}},3585:function(e,t,n){n.d(t,{Qj:function(){return i},Rn:function(){return a},ZB:function(){return u},jC:function(){return l},oM:function(){return r}});var o=n(7707);function a(e=0,t=1){return(0,o.W)({url:"carts",method:"post",data:{goods_id:e,num:t}})}function l(){return(0,o.W)({url:"carts?include=goods"})}function r(e=0,t=1){return(0,o.W)({url:`carts/${e}`,method:"put",data:{num:t}})}function u(e=0){return(0,o.W)({url:`carts/${e}`,method:"delete"})}function i(e){return(0,o.W)({url:"carts/checked",method:"PATCH",data:e})}},7707:function(e,t,n){n.d(t,{W:function(){return u}});var o=n(9669),a=n.n(o),l=n(1595),r=n(1405);function u(e){const t=a().create({baseURL:"https://api.shop.eduwork.cn/api/"});return t.interceptors.request.use((e=>{const t=window.localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>{Promise.reject(e)})),t.interceptors.response.use((e=>e),(e=>{console.log(e.response.status),("ECONNABORTED"===e.code||"Network Error"===e.message||e.message.includes("timeout"))&&(0,l.g)({type:"danger",message:"请求超时，请稍后再试"}),401===e.response.status&&((0,l.g)({type:"danger",message:"请登录"}),r.Z.push({path:"/login"}))})),t(e)}},7298:function(e,t,n){n.d(t,{IA:function(){return g},IW:function(){return u},LI:function(){return v},Lm:function(){return i},OE:function(){return l},Y$:function(){return c},bS:function(){return a},dK:function(){return f},ec:function(){return m},gD:function(){return d},nq:function(){return p},oN:function(){return r},ud:function(){return s}});var o=n(7707);function a(e){return(0,o.W)({url:"auth/register",method:"post",data:e})}function l(e){return(0,o.W)({url:"auth/login",method:"post",data:e})}function r(){return(0,o.W)({url:"auth/logout",method:"post"})}function u(e){return(0,o.W)({url:"user",method:"put",data:{name:e}})}function i(){return(0,o.W)({url:"user"})}function s(){return(0,o.W)({url:"auth/oss/token"})}function d(e){return(0,o.W)({url:"auth/email/code",method:"post",data:{email:e}})}function c(e,t){return(0,o.W)({url:"auth/email/update",method:"post",data:{email:e,code:t}})}function p(e){return(0,o.W)({url:"auth/phone/code",method:"post",data:{phone:e}})}function m(e,t){return(0,o.W)({url:"auth/phone/update",method:"PATCH",data:{phone:e,code:t}})}function f(e,t,n){return(0,o.W)({url:"auth/password/update",method:"POST",data:{old_password:e,password:t,password_confirmation:n}})}function v(e){return(0,o.W)({url:"auth/reset/password/email/code",method:"POST",data:{email:e}})}function g(e,t,n,a){return(0,o.W)({url:"auth/reset/password/email",method:"POST",data:{code:e,email:t,password:n,passwordConfirmation:a}})}},1405:function(e,t,n){n.d(t,{Z:function(){return bn}});var o=n(2119),a=n(6252);const l={style:{margin:"16px"}},r=(0,a.Uk)(" 更改 ");function u(e,t,n,o,u,i){const s=(0,a.up)("van-nav-bar"),d=(0,a.up)("van-uploader"),c=(0,a.up)("van-field"),p=(0,a.up)("van-cell-group"),m=(0,a.up)("van-cell"),f=(0,a.up)("van-button"),v=(0,a.up)("van-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s,{title:"编辑个人信息","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(c,{name:"uploader",label:"更改头像"},{input:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(v,{onSubmit:o.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:o.username,"onUpdate:modelValue":t[1]||(t[1]=e=>o.username=e),name:"username",label:"更改用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{title:"修改密码","is-link":"",to:"/SetPassword"}),(0,a.Wm)(m,{title:"手机号","is-link":"",value:"绑定手机号",to:"/setPhone"}),(0,a.Wm)(m,{title:"邮箱","is-link":"",value:o.email,to:"/setEmail"},null,8,["value"]),(0,a.Wm)(m,{title:"找回密码","is-link":"",onClick:o.getCode},null,8,["onClick"]),(0,a._)("div",l,[(0,a.Wm)(f,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,a.w5)((()=>[r])),_:1})])])),_:1},8,["onSubmit"])],64)}var i=n(2262),s=n(7298),d=n(4530),c={name:"setUser",setup(){const e=()=>history.back(),t=(0,o.tv)(),n=(0,i.iH)([{url:"https://img.yzcdn.cn/vant/leaf.jpg"}]),l=e=>{console.log(e)},r=(0,i.iH)({}),u=(0,i.iH)(""),c=(0,i.iH)(""),p=(0,i.iH)(""),m=(0,i.iH)(""),f=()=>{(0,s.gD)({email:m}).then((e=>{console.log(m),console.log(e)}))},v=e=>{c.value=e.phone,console.log(c.value),(0,s.IW)(e.username).then((e=>{console.log(e)})),console.log("submit",e)};(0,a.bv)((()=>{(0,s.Lm)().then((e=>{console.log(e),c.value=e.data.phone,r.value=e.data,p.value=e.data.name,m.value=e.data.email})),(0,s.ud)().then((e=>{console.log(e)}))}));const g=()=>{console.log(m.value),(0,s.LI)(m.value).then((e=>{204===e.status&&((0,d.F)("验证码发送成功"),t.push({path:"/findPassword"}))}))};return{username:p,getCode:g,email:m,onSubmit:v,phone:c,sms:u,value:n,onClickLeft:e,afterRead:l,sentSms:f}}},p=n(3744);const m=(0,p.Z)(c,[["render",u]]);var f=m,v=n(3577);const g=e=>((0,a.dD)("data-v-180fb27d"),e=e(),(0,a.Cn)(),e),h=(0,a.Uk)("订单编号："),w=g((()=>(0,a._)("br",null,null,-1))),b=(0,a.Uk)("下单时间：");function k(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-tab"),s=(0,a.up)("van-tabs"),d=(0,a.up)("van-card"),c=(0,a.up)("van-list"),p=(0,a.up)("van-pull-refresh");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"订单列表","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(s,{active:e.active,"onUpdate:active":t[0]||(t[0]=t=>e.active=t),onClickTab:o.clickTab},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"0",title:"全部"}),(0,a.Wm)(i,{name:"1",title:"待付款"}),(0,a.Wm)(i,{name:"2",title:"已付款"}),(0,a.Wm)(i,{name:"3",title:"代签收"}),(0,a.Wm)(i,{name:"4",title:"已签收"})])),_:1},8,["active","onClickTab"]),(0,a.Wm)(p,{modelValue:o.refreshing,"onUpdate:modelValue":t[2]||(t[2]=e=>o.refreshing=e),onRefresh:o.onRefresh},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{loading:o.Loading,"onUpdate:loading":t[1]||(t[1]=e=>o.Loading=e),finished:o.finished,"finished-text":"没有更多了",onLoad:o.onLoad},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.goods,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"goodsList",key:t.id},[(0,a._)("span",null,[h,(0,a._)("span",null,(0,v.zw)(t.order_no),1)]),w,(0,a._)("span",null,[b,(0,a._)("span",null,(0,v.zw)(t.created_at),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.goods.data,(n=>((0,a.wg)(),(0,a.j4)(d,{key:n.id,onClick:n=>e.$router.push({path:"/orderMore",query:{id:t.id}}),price:n.price,desc:n.description,title:n.title,thumb:n.cover_url},null,8,["onClick","price","desc","title","thumb"])))),128))])))),128))])),_:1},8,["loading","finished","onLoad"])])),_:1},8,["modelValue","onRefresh"])],64)}var y=n(7707);function _(){return(0,y.W)({url:"orders/preview"})}function W(e){return(0,y.W)({url:"/orders",method:"post",data:{address_id:e}})}function C(e,t){return(0,y.W)({url:`orders?status=${e}&page=${t}&include=goods,user,orderDetails`})}function L(e){return(0,y.W)({url:`orders/${e}?include=goods,user,orderDetails`})}function S(e){return(0,y.W)({url:`orders/${e}/express`})}var H={name:"OrderList",setup(){const e=(0,i.iH)([]),t=(0,i.iH)(1),n=(0,i.iH)(!1),o=(0,i.iH)(!1),l=(0,i.iH)(!1),r=()=>{setTimeout((()=>{l.value=!1,(0,d.F)("刷新成功")}),1e3)},u=()=>history.back();(0,a.bv)((()=>{C(0,t).then((t=>{console.log(t),e.value=t.data.data}))}));const s=t=>{console.log(t.name),C(t.name).then((t=>{console.log(t),e.value=t.data.data}))},c=()=>{n.value=!0,C(0,t).then((a=>{t.value+=1,console.log(t.value),e.value=a.data.data,n.value=!1,a.data.data.length<=0&&(o.value=!0)}))};return{onClickLeft:u,goods:e,clickTab:s,onLoad:c,Loading:n,finished:o,onRefresh:r,refreshing:l}}};const V=(0,p.Z)(H,[["render",k],["__scopeId","data-v-180fb27d"]]);var U=V;const D=(0,a.Uk)("发送验证码"),A={style:{margin:"16px"}},P=(0,a.Uk)(" 更改 ");function T(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-field"),s=(0,a.up)("van-button"),d=(0,a.up)("van-cell-group"),c=(0,a.up)("van-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"绑定手机号","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(u,{title:"绑定手机号","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(c,{onSubmit:o.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:o.phone,"onUpdate:modelValue":t[0]||(t[0]=e=>o.phone=e),name:"phone",label:"绑定手机号",placeholder:"绑定手机号",rules:[{required:!0,message:"绑定手机号"}]},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.PhoneCode,"onUpdate:modelValue":t[1]||(t[1]=e=>o.PhoneCode=e),center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},{button:(0,a.w5)((()=>[(0,a.Wm)(s,{size:"small",onClick:o.phondeCodes,type:"primary"},{default:(0,a.w5)((()=>[D])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,a._)("div",A,[(0,a.Wm)(s,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,a.w5)((()=>[P])),_:1})])])),_:1},8,["onSubmit"])],64)}var x={name:"SetPhone",setup(){const e=(0,i.iH)(""),t=(0,i.iH)(""),n=()=>history.back(),o=()=>{(0,s.nq)(e.value).then((t=>{console.log(e),console.log(t)}))},a=n=>{(0,s.ec)(e.value,t.value).then((e=>{console.log(e),204===e.status&&history.back()})),console.log(n)};return{onClickLeft:n,phondeCodes:o,PhoneCode:t,phone:e,onSubmit:a}}};const q=(0,p.Z)(x,[["render",T]]);var Z=q;const j=(0,a.Uk)("发送验证码"),E={style:{margin:"16px"}},$=(0,a.Uk)(" 更改 ");function O(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-field"),s=(0,a.up)("van-button"),d=(0,a.up)("van-cell-group"),c=(0,a.up)("van-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"绑定手机号","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(c,{onSubmit:o.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),name:"email",label:"更换邮箱",placeholder:"更换邮箱",rules:[{required:!0,message:"更换邮箱"}]},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.emailCode,"onUpdate:modelValue":t[1]||(t[1]=e=>o.emailCode=e),center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},{button:(0,a.w5)((()=>[(0,a.Wm)(s,{size:"small",onClick:o.phondeCodes,type:"primary"},{default:(0,a.w5)((()=>[j])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,a._)("div",E,[(0,a.Wm)(s,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,a.w5)((()=>[$])),_:1})])])),_:1},8,["onSubmit"])],64)}var I={name:"SetEmail",setup(){const e=(0,i.iH)(""),t=(0,i.iH)(""),n=()=>history.back(),o=()=>{(0,s.gD)(e.value).then((t=>{console.log(e),console.log(t)}))},a=n=>{(0,s.Y$)(e.value,t.value).then((e=>{console.log(e),204===e.status&&history.back()})),console.log(n)};return{onClickLeft:n,phondeCodes:o,emailCode:t,email:e,onSubmit:a}}};const N=(0,p.Z)(I,[["render",O]]);var z=N;const F={style:{margin:"16px"}},Y=(0,a.Uk)(" 更改 ");function R(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-field"),s=(0,a.up)("van-cell-group"),d=(0,a.up)("van-button"),c=(0,a.up)("van-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"更改密码","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(c,{onSubmit:o.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:o.passwordOld,"onUpdate:modelValue":t[0]||(t[0]=e=>o.passwordOld=e),type:"password",label:"旧密码"},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.passwordNew,"onUpdate:modelValue":t[1]||(t[1]=e=>o.passwordNew=e),type:"password",label:"新密码"},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.passwordReNew,"onUpdate:modelValue":t[2]||(t[2]=e=>o.passwordReNew=e),type:"password",label:"确认密码"},null,8,["modelValue"])])),_:1}),(0,a._)("div",F,[(0,a.Wm)(d,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,a.w5)((()=>[Y])),_:1})])])),_:1},8,["onSubmit"])],64)}var G={name:"SetPassword",setup(){const e=()=>history.back(),t=(0,i.iH)(""),n=(0,i.iH)(""),o=(0,i.iH)(""),a=()=>{n.value===o.value&&(0,s.dK)(t.value,n.value,o.value).then((e=>{console.log(e),204===e.status&&history.back()}))};return{passwordOld:t,passwordReNew:o,passwordNew:n,onSubmit:a,onClickLeft:e}}};const M=(0,p.Z)(G,[["render",R]]);var K=M;const B={style:{margin:"16px"}},Q=(0,a.Uk)(" 更改 ");function J(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-field"),s=(0,a.up)("van-cell-group"),d=(0,a.up)("van-button"),c=(0,a.up)("van-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"更改密码","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(c,{onSubmit:o.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:o.code,"onUpdate:modelValue":t[0]||(t[0]=e=>o.code=e),label:"验证码"},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),label:"新密码"},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.password,"onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),t:"",label:"确认密码"},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.passwordReNew,"onUpdate:modelValue":t[3]||(t[3]=e=>o.passwordReNew=e),t:"",label:"确认密码"},null,8,["modelValue"])])),_:1}),(0,a._)("div",B,[(0,a.Wm)(d,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,a.w5)((()=>[Q])),_:1})])])),_:1},8,["onSubmit"])],64)}var X={name:"SetPassword",setup(){const e=()=>history.back(),t=(0,i.iH)(""),n=(0,i.iH)(""),o=(0,i.iH)(""),a=(0,i.iH)(""),l=()=>{(0,s.IA)(t.value,n.value,o.value,a.value).then((e=>{204===e.status&&(alert("更新成功"),history.back())}))};return{code:t,passwordReNew:a,password:o,email:n,onSubmit:l,onClickLeft:e}}};const ee=(0,p.Z)(X,[["render",J]]);var te=ee,ne=n(2304),oe=n(407),ae=n(6142),le=n(620);const re={class:"home"},ue=(0,a._)("img",{style:{width:"90%",margin:"0.5rem auto"},alt:"middle",src:ne},null,-1),ie=(0,a.uE)('<ul class="mind"><li style="float:left;"><img src="'+oe+'" alt="mind"></li><li style="float:right;"><img src="'+ae+'" alt="big"><img src="'+le+'" alt="perfect"></li></ul>',1),se={class:"wrapper"},de=(0,a._)("div",{style:{height:"50px"}},null,-1);function ce(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("SearchS"),s=(0,a.up)("swiperImg"),d=(0,a.up)("van-grid-item"),c=(0,a.up)("GridGoods"),p=(0,a.up)("NoticeS"),m=(0,a.up)("van-tab"),f=(0,a.up)("van-tabs"),v=(0,a.up)("van-sticky"),g=(0,a.up)("goodsList"),h=(0,a.up)("footerS");return(0,a.wg)(),(0,a.iD)("div",re,[(0,a.Wm)(u,{title:"图书商城"}),(0,a.Wm)(i),(0,a.Wm)(s,{style:{background:"#fbedcf"},slides:l.slides},null,8,["slides"]),(0,a.Wm)(c,{class:"goodsSkill",home:l.home,colNum:5,"icon-size":"50px"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.home,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,icon:e.cover_url,text:e.title,to:`/detail/${e.id}`},null,8,["icon","text","to"])))),128))])),_:1},8,["home"]),ue,(0,a.Wm)(p),ie,(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{active:e.active,"onUpdate:active":t[0]||(t[0]=t=>e.active=t),onClickTab:o.onClickTab},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{title:"畅销",name:"sales"}),(0,a.Wm)(m,{title:"新书",name:"new"}),(0,a.Wm)(m,{title:"精选",name:"recommend"})])),_:1},8,["active","onClickTab"])])),_:1}),(0,a._)("div",se,[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{colNum:2,"icon-size":150},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.GoodsShow,(t=>((0,a.wg)(),(0,a.j4)(d,{class:"goodsList",onClick:n=>{e.$router.push({path:"/detail",params:{id:t.id}})},key:t.id,icon:t.cover_url,text:t.title+"￥"+t.price+"元"},null,8,["onClick","icon","text"])))),128))])),_:1})])),_:1}),de]),(0,a.Wm)(h)])}function pe(e,t,n,o,l,r){const u=(0,a.up)("van-list");return(0,a.wg)(),(0,a.j4)(u,{loading:o.loading,"onUpdate:loading":t[0]||(t[0]=e=>o.loading=e),finished:o.finished,"finished-text":"拉动刷新",onLoad:o.onLoad},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:3},8,["loading","finished","onLoad"])}var me={name:"goodsList",setup(){const e=(0,i.iH)([]),t=(0,i.iH)(!1),n=(0,i.iH)(!1),o=()=>{setTimeout((()=>{for(let t=0;t<10;t++)e.value.push(e.value.length+1);t.value=!1,e.value.length>=40&&(n.value=!0)}),1e3)};return{list:e,onLoad:o,loading:t,finished:n}}};const fe=(0,p.Z)(me,[["render",pe]]);var ve=fe;const ge=["alt","src"];function he(e,t,n,o,l,r){const u=(0,a.up)("van-swipe-item"),i=(0,a.up)("van-swipe");return(0,a.wg)(),(0,a.j4)(i,{autoplay:3e3,"lazy-render":""},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{},(()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.slides,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e.id},{default:(0,a.w5)((()=>[(0,a._)("img",{class:"cilcle",alt:e.title,src:e.img_url},null,8,ge)])),_:2},1024)))),128))]),!0)])),_:3})}var we={name:"swiperImg",props:{slides:Array}};const be=(0,p.Z)(we,[["render",he],["__scopeId","data-v-498cbcf4"]]);var ke=be;function ye(e,t,n,o,l,r){const u=(0,a.up)("van-search");return(0,a.wg)(),(0,a.j4)(u,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),shape:"round",background:"#fffbe8",placeholder:"请输入搜索关键词"},null,8,["modelValue"])}var _e={name:"SearchS"};const We=(0,p.Z)(_e,[["render",ye]]);var Ce=We;function Le(e,t,n,o,l,r){const u=(0,a.up)("van-grid");return(0,a.wg)(),(0,a.j4)(u,{gutter:10,"column-num":n.colNum,"icon-size":n.IconSize},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{},(()=>[(0,a._)("h1",null,(0,v.zw)(this.$route.params.id),1)]))])),_:3},8,["column-num","icon-size"])}var Se=n(9143),He={name:"GridGoods",props:{colNum:Number,IconSize:String},setup(){(0,a.bv)((()=>{(0,Se.Cn)().then((e=>{console.log(e)}))}))}};const Ve=(0,p.Z)(He,[["render",Le]]);var Ue=Ve,De=n(735);function Ae(e){return(0,y.W)({url:`index?id=${e}`})}function Pe(e="sales",t=1){return(0,y.W)({url:`index?${e}=1&page=${t}`})}var Te=n(2021),xe=n(5109),qe=n(8637),Ze={name:"HomeView",components:{swiperImg:ke,SearchS:Ce,GridGoods:Ue,NoticeS:De.Z,footerS:Te.Z,goodsList:ve},data(){return{home:[],slides:[]}},mounted(){const e=(0,qe.oR)();e.state.loading=!0,Ae().then((t=>{console.log(t),this.home=t.data.goods.data,this.slides=t.data.slides,e.state.loading=!1}))},setup(){const e=(0,i.qj)({sales:{page:1,list:[]},recommend:{page:1,list:[]},new:{page:1,list:[]}}),t=(0,i.iH)("sales"),n=(0,a.Fl)((()=>e[t.value].list));(0,a.bv)((()=>{Pe("sales").then((t=>{e.sales.list=t.data.goods.data})),Pe("recommend").then((t=>{e.recommend.list=t.data.goods.data})),Pe("new").then((t=>{e.new.list=t.data.goods.data}));const n=new xe.ZP(document.querySelector(".wrapper"),{probeType:3,pullUpLoad:!0});n.on("pullingUp",(()=>{const o=e[t.value].page+1;Pe(t.value,o).then((n=>{e[t.value].list.push(...n.data.goods.data)})),e[t.value].page+=1,n.finishPullUp()}))}));const o=({name:e})=>{t.value=e};return{onClickTab:o,goods:e,GoodsShow:n}}};const je=(0,p.Z)(Ze,[["render",ce]]);var Ee=je;function $e(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-address-list");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"地址管理","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(i,{onSelect:o.switchAddress,modelValue:o.chosenAddressId,"onUpdate:modelValue":t[0]||(t[0]=e=>o.chosenAddressId=e),list:o.list,switchable:o.switchable,"default-tag-text":"默认",onAdd:o.onAdd,onEdit:o.onEdit},null,8,["onSelect","modelValue","list","switchable","onAdd","onEdit"])],64)}function Oe(){return(0,y.W)({url:"address"})}function Ie(e){return(0,y.W)({url:"address",method:"POST",data:e})}function Ne(e){return(0,y.W)({url:`address/${e}`})}function ze(e=0,t){return(0,y.W)({url:`address/${e}`,method:"PUT",data:t})}function Fe(e){return(0,y.W)({url:`address/${e}/default`,method:"PATCH"})}function Ye(e){return(0,y.W)({url:`address/${e}`,method:"DELETE"})}var Re={name:"AddressList",setup(){const e=(0,o.tv)(),t=(0,o.yj)(),n=(0,i.iH)(!1),l=()=>history.back(),r=(0,i.iH)(""),u=(0,i.iH)([]);(0,a.bv)((()=>{"addOrder"===t.query.type&&(n.value=!0),Oe().then((e=>{u.value=e.data.data.map((e=>(1===e.is_default&&(r.value=e.id),{id:e.id,name:e.name,tel:e.phone,address:e.province+e.city+e.county+e.address,isDefault:1===e.is_default})))}))}));const s=()=>{e.push({path:"/AddressEdit",query:{type:"add"}})},d=t=>{e.push({path:"/AddressEdit",query:{type:"edit",id:t.id}})},c=t=>{Fe(t.id).then((t=>{204===t.status&&e.push({path:"/order"})}))};return{onClickLeft:l,list:u,onAdd:s,onEdit:d,chosenAddressId:r,switchAddress:c,switchable:n}}};const Ge=(0,p.Z)(Re,[["render",$e]]);var Me=Ge;function Ke(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-address-edit");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"add"===e.$route.query.type?"新增地址":"更新地址","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["title","onClickLeft"]),(0,a.Wm)(i,{"area-list":o.areaList,"address-info":o.info,"show-delete":o.deletes,"show-set-default":"","area-columns-placeholder":["请选择","请选择","请选择"],onSave:o.onSave,onChangeDefault:o.onChangeDefault,onDelete:o.onDelete},null,8,["area-list","address-info","show-delete","onSave","onChangeDefault","onDelete"])],64)}var Be=n(162),Qe=n(2149),Je={name:"AddressEdit",setup(){const e=(0,o.tv)(),t=(0,o.yj)(),n=(0,i.iH)({}),l=(0,i.iH)(!1);(0,a.bv)((()=>{console.log(t.query.type),"edit"===t.query.type&&(l.value=!0,Ne(t.query.id).then((e=>{let t="";console.log(Qe.H);for(const n in Qe.H.county_list)Qe.H.county_list[n]===e.data.county&&(console.log(e.data.county),t=n,console.log(t));n.value={name:e.data.name,tel:e.data.phone,province:e.data.province,city:e.data.city,county:e.data.county,addressDetail:e.data.address,areaCode:t,isDefault:1===e.data.isDefault}})))}));const r=()=>history.back(),u=n=>{console.log(n);const o={name:n.name,address:n.addressDetail,phone:n.tel,province:n.province,city:n.city,county:n.county,is_default:n.isDefault?1:0};"add"===t.query.type?Ie(o).then((t=>{console.log(t),201===t.status&&(d.F.success("添加成功"),e.push({path:"/addressList"}))})):ze(t.query.id,o).then((t=>{console.log(t),204===t.status&&(d.F.success("更新成功"),e.push({path:"/addressList"}))}))},s=()=>{Fe(t.query.id).then((t=>{204===t.status&&(d.F.success("设置成功"),e.push({path:"/addressList"}))}))},c=()=>{Be.V.confirm({title:"删除地址",message:"是否确认删除。"}).then((()=>{Ye(t.query.id).then((t=>{204===t.status&&(d.F.success("删除成功"),e.push({path:"/addressList"}))}))})).catch((()=>{}))};return{onSave:u,areaList:Qe.H,info:n,onClickLeft:r,onChangeDefault:s,onDelete:c,deletes:l}}};const Xe=(0,p.Z)(Je,[["render",Ke]]);var et=Xe,tt=n(1686);const nt=e=>((0,a.dD)("data-v-90408f7c"),e=e(),(0,a.Cn)(),e),ot=nt((()=>(0,a._)("img",{src:tt,alt:"registerBack"},null,-1))),at={style:{margin:"16px"}},lt=(0,a.Uk)(" 注册 ");function rt(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-field"),s=(0,a.up)("van-cell-group"),d=(0,a.up)("van-button"),c=(0,a.up)("van-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"用户注册"}),ot,(0,a.Wm)(c,{onFailed:e.onFailed,onSubmit:o.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),name:"name",label:"用户名",placeholder:"请输入用户名",rules:[{require:!0,message:"请输入正确内容"}]},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),name:"password",label:"密码",placeholder:"请输入密码",type:"password",rules:[{require:!0,message:"请输入6位数字"},{patternPwd:o.patternPwd,message:"请输入正确内容"}]},null,8,["modelValue","rules"]),(0,a.Wm)(i,{modelValue:e.password_confirmation,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password_confirmation=t),name:"password_confirmation",placeholder:"请确认密码",label:"确认密码",type:"password",rules:[{require:!0,message:"请输入正确内容"},{patternPwd:o.patternPwd,message:"请输入正确内容"}]},null,8,["modelValue","rules"]),(0,a.Wm)(i,{modelValue:e.email,"onUpdate:modelValue":t[3]||(t[3]=t=>e.email=t),name:"email",placeholder:"请输入邮箱",label:"邮箱",rules:[{require:!0,message:"请输入正确内容"},{patternEmail:o.patternEmail,message:"请输入正确内容"}]},null,8,["modelValue","rules"])])),_:1}),(0,a._)("div",at,[(0,a._)("p",{onClick:t[4]||(t[4]=(...e)=>o.goLogin&&o.goLogin(...e)),onKeyup:t[5]||(t[5]=(...e)=>o.goLogin&&o.goLogin(...e))},"已有账号，点击登录",32),(0,a.Wm)(d,{round:"",block:"",color:"linear-gradient(to right,#ff6034,#ee0a24)","native-type":"submit"},{default:(0,a.w5)((()=>[lt])),_:1})])])),_:1},8,["onFailed","onSubmit"])],64)}var ut={name:"Register",setup(){const e=/\d{6}/,t=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,n=(0,i.qj)({name:"",email:"",password:"",password_confirmation:""}),a=(0,o.tv)(),l=()=>{console.log(n.name),console.log(n.password),console.log(n.email),console.log(n.password_confirmation),n.password!==n.password_confirmation?d.F.fail("密码前后不一致，请重新输入"):((0,s.bS)(n).then((e=>{console.log(e)})),a.push({path:"/login"}))};function r(){a.push({path:"/login"})}return{...(0,i.BK)(n),onSubmit:l,patternPwd:e,patternEmail:t,goLogin:r}}};const it=(0,p.Z)(ut,[["render",rt],["__scopeId","data-v-90408f7c"]]);var st=it;const dt={class:"detail"},ct=["src"],pt=["innerHTML"],mt=(0,a.Uk)("暂无热评");function ft(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-sticky"),s=(0,a.up)("van-swipe-item"),d=(0,a.up)("van-swipe"),c=(0,a.up)("van-card"),p=(0,a.up)("van-tab"),m=(0,a.up)("van-grid-item"),f=(0,a.up)("GridGoods"),v=(0,a.up)("van-tabs"),g=(0,a.up)("van-action-bar-icon"),h=(0,a.up)("van-action-bar-button"),w=(0,a.up)("van-action-bar");return(0,a.wg)(),(0,a.iD)("div",dt,[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{title:"商品详情","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"])])),_:1}),(0,a._)("div",null,[(0,a.Wm)(d,{autoplay:3e3,"lazy-render":""},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("img",{alt:"123",src:o.detailGoods.cover_url,height:"380"},null,8,ct)])),_:1})])),_:1}),(0,a.Wm)(c,{price:o.detailGoods.price,desc:o.detailGoods.description,title:o.detailGoods.title},null,8,["price","desc","title"])]),(0,a.Wm)(v,{active:e.activeName,"onUpdate:active":t[0]||(t[0]=t=>e.activeName=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{title:"概述",name:"a"},{default:(0,a.w5)((()=>[(0,a._)("div",{id:"contentA",innerHTML:o.detailGoods.details},null,8,pt)])),_:1}),(0,a.Wm)(p,{title:"热评",name:"b"},{default:(0,a.w5)((()=>[mt])),_:1}),(0,a.Wm)(p,{title:"相关商品",name:"c"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{colNum:2,"icon-size":150},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.likeGoods,(e=>((0,a.wg)(),(0,a.j4)(m,{onClick:o.update,key:e.id,icon:e.cover_url,text:e.title+"￥"+e.price+"元",to:`/detail/${e.id}`},null,8,["onClick","icon","text","to"])))),128))])),_:1})])),_:1})])),_:1},8,["active"]),(0,a.Wm)(w,{"safe-area-inset-bottom":"","z-index":"999"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{icon:"chat-o",text:"客服",color:"#ee0a24"}),(0,a.Wm)(g,{icon:o.collectionIcon,text:o.collectionState,onClick:o.CollectionS,color:"#ff5000"},null,8,["icon","text","onClick"]),(0,a.Wm)(h,{type:"warning",onClick:o.cars,text:"加入购物车"},null,8,["onClick"]),(0,a.Wm)(h,{type:"danger",text:"立即购买",onClick:o.ToBuy},null,8,["onClick"])])),_:1})])}function vt(){return(0,y.W)({url:"collects"})}function gt(e){return(0,y.W)({url:`collects/goods/${e}`,method:"post"})}var ht=n(4239),wt=n(3585),bt={name:"DetailS",components:{GridGoods:Ue},setup(){const e=()=>history.back(),t=(0,i.iH)("收藏"),n=(0,i.iH)("like-o"),l=(0,o.yj)(),r=(0,o.tv)(),u=(0,i.iH)({}),s=(0,i.iH)([]),d=(0,i.iH)([]);ht.Z.state.loading=!0;const c=l.params.id;function p(){location.reload()}(0,a.bv)((()=>{(0,Se.Pi)(c).then((e=>{console.log(e.data),u.value=e.data.goods,s.value=e.data.like_goods,console.log(s.value),ht.Z.state.loading=!1})),vt().then((e=>{d.value=e.data.data;for(let o=0;o<d.value.length;o++)d.value[o].goods_id==l.params.id&&(t.value="已收藏",n.value="star");console.log(e.data.data)}))}));const m=()=>{(0,wt.Rn)(l.params.id).then((e=>{ht.Z.dispatch("upCarList"),console.log(e)}))},f=()=>{gt(c).then((e=>{201!==e.status?(console.log(e),t.value="收藏",n.value="like-o"):(console.log(e),t.value="已收藏",n.value="star")}))};function v(){(0,wt.Rn)(l.params.id).then((e=>{ht.Z.dispatch("upCarList"),console.log(e)})),r.push({path:"/shopCar"})}return{onClickLeft:e,CollectionS:f,detailGoods:u,collectionIcon:n,likeGoods:s,update:p,ToBuy:v,collectionState:t,cars:m}}};const kt=(0,p.Z)(bt,[["render",ft]]);var yt=kt;const _t=e=>((0,a.dD)("data-v-ae00d716"),e=e(),(0,a.Cn)(),e),Wt=_t((()=>(0,a._)("img",{src:ne,alt:"login"},null,-1))),Ct={style:{margin:"16px"}},Lt=(0,a.Uk)(" 登录 "),St={style:{margin:"16px"}},Ht=(0,a.Uk)(" 还没有账号，去注册 ");function Vt(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-field"),s=(0,a.up)("van-cell-group"),d=(0,a.up)("van-button"),c=(0,a.up)("van-form"),p=(0,a.up)("footers");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"用户登录"}),Wt,(0,a.Wm)(c,{onSubmit:o.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),name:"email",label:"用户名",placeholder:"请输入邮箱",rules:[{required:!0,message:"请输入邮箱"}]},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])])),_:1}),(0,a._)("div",Ct,[(0,a.Wm)(d,{round:"",block:"",color:"linear-gradient(to right,#FFA101,#ff6034)","native-type":"submit"},{default:(0,a.w5)((()=>[Lt])),_:1})]),(0,a._)("div",St,[(0,a.Wm)(d,{round:"",block:"",color:"linear-gradient(to right,#FFA101,#ff6034)",onClick:o.registerS},{default:(0,a.w5)((()=>[Ht])),_:1},8,["onClick"])])])),_:1},8,["onSubmit"]),(0,a.Wm)(p)],64)}var Ut={name:"Login",components:{footers:Te.Z},setup(){const e=(0,i.iH)(""),t=(0,i.iH)(""),n=(0,o.tv)(),a=e=>{console.log("submit",e),(0,s.OE)(e).then((e=>{console.log(e),window.localStorage.setItem("token",e.data.access_token),d.F.success("登录成功"),n.push({path:"/indexMe"})}))};function l(){n.push({path:"/register"})}return{email:e,password:t,onSubmit:a,registerS:l}}};const Dt=(0,p.Z)(Ut,[["render",Vt],["__scopeId","data-v-ae00d716"]]);var At=Dt,Pt=n(9963);const Tt={class:"block"},xt=(0,a.Uk)("支付宝"),qt=(0,a.Uk)("微信支付"),Zt=["src"];function jt(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-contact-card"),s=(0,a.up)("van-card"),d=(0,a.up)("van-radio"),c=(0,a.up)("van-radio-group"),p=(0,a.up)("van-overlay"),m=(0,a.up)("van-submit-bar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"生成订单","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(i,{type:"edit",onClick:o.changeAddress,tel:o.datas.address.phone,name:o.datas.address.name},null,8,["onClick","tel","name"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.datas.goods,(e=>((0,a.wg)(),(0,a.j4)(s,{key:e.id,num:e.num,price:e.goods.price,desc:e.goods.description,title:e.goods.title,thumb:e.goods.cover_url},null,8,["num","price","desc","title","thumb"])))),128)),(0,a.Wm)(p,{show:o.show,onClick:t[2]||(t[2]=e=>o.show=!1)},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"wrapper",onClick:t[1]||(t[1]=(0,Pt.iM)((()=>{}),["stop"]))},[(0,a._)("div",Tt,[(0,a.Wm)(c,{modelValue:o.payType,"onUpdate:modelValue":t[0]||(t[0]=e=>o.payType=e),onChange:o.tabType},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"1"},{default:(0,a.w5)((()=>[xt])),_:1}),(0,a.Wm)(d,{name:"2"},{default:(0,a.w5)((()=>[qt])),_:1})])),_:1},8,["modelValue","onChange"]),(0,a._)("img",{src:o.payQrCodeUrl,alt:"123"},null,8,Zt)])])])),_:1},8,["show"]),(0,a.Wm)(m,{price:100*o.total,"button-text":"付款",onSubmit:o.onSubmit},null,8,["price","onSubmit"])],64)}function Et(e,t){return(0,y.W)({url:`/orders/${e}/pay?type=${t}`})}function $t(e){return(0,y.W)({url:`orders/${e}/status`})}var Ot={name:"Order",setup(){const e=()=>history.back(),t=()=>(0,d.F)("edit"),n=(0,i.iH)(""),l=(0,i.iH)(""),r=(0,i.iH)(""),u=(0,i.iH)("1"),s=(0,o.tv)(),c=(0,i.iH)(!1),p=(0,qe.oR)(),m=(0,i.qj)({address:{},goods:[]}),f=(0,a.Fl)((()=>m.goods.reduce(((e,t)=>e+t.num*t.goods.price),0)));(0,a.bv)((()=>{(0,wt.jC)("inclue=goods").then((e=>{const t=e.data.data.filter((e=>1===e.is_checked));t.length<=0&&s.replace({path:"/shopCar"})})),console.log(f),_().then((e=>{console.log(e),console.log(e.data.address.filter((e=>1===e.is_default))),m.address=e.data.address.filter((e=>1===e.is_default))[0],console.log(e),m.goods=e.data.carts,console.log(m.address.id),console.log(m.goods)}))}));const v=()=>{s.push({path:"/addressList",query:{type:"addOrder"}})},g=()=>{W(m.address.id).then((e=>{console.log(e),e.data.id>=1&&(Et(e.data.id,"aliyun").then((e=>{console.log(e),n.value=e.data.qr_code_url,l.value=e.data.qr_code_url})),Et(e.data.id,"wechat").then((e=>{console.log(e),r.value=e.data.qr_code_url})),setInterval((()=>{$t(e.data.id).then((e=>{2===e.data&&s.push({path:"/orderList"})}))}),1e3),d.F.success("订单创建成功，请尽快支付"),c.value=!0,p.dispatch("upCarList"))})).catch((e=>{d.F.fail("订单创建失败"),console.log(e)}))},h=e=>{console.log(e),n.value=1===e?l.value:r.value};return{onClickLeft:e,tabType:h,onEdit:t,onSubmit:g,payQrCodeUrl:n,show:c,total:f,datas:m,payType:u,changeAddress:v}}};const It=(0,p.Z)(Ot,[["render",jt],["__scopeId","data-v-cac470d0"]]);var Nt=It;const zt=e=>((0,a.dD)("data-v-485fcabb"),e=e(),(0,a.Cn)(),e),Ft={class:"orderbody"},Yt={class:"ordermore"},Rt=(0,a.Uk)("订单状态："),Gt=(0,a.Uk)("订单编号："),Mt=(0,a.Uk)("下单时间："),Kt=(0,a.Uk)("立即付款"),Bt={class:"ordermore"},Qt=(0,a.Uk)("商品金额："),Jt=zt((()=>(0,a._)("h4",null,[(0,a.Uk)("配送方式："),(0,a._)("span",null,"顺丰速运")],-1))),Xt={class:"block"},en=(0,a.Uk)("支付宝"),tn=(0,a.Uk)("微信支付"),nn=["src"];function on(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-button"),s=(0,a.up)("van-card"),d=(0,a.up)("van-radio"),c=(0,a.up)("van-radio-group"),p=(0,a.up)("van-overlay"),m=(0,a.up)("footers");return(0,a.wg)(),(0,a.iD)("div",Ft,[(0,a.Wm)(u,{title:"订单详情","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a._)("div",Yt,[(0,a._)("h4",null,[Rt,(0,a._)("span",null,(0,v.zw)(o.Status),1)]),(0,a._)("h4",null,[Gt,(0,a._)("span",null,(0,v.zw)(o.orderNum),1)]),(0,a._)("h4",null,[Mt,(0,a._)("span",null,(0,v.zw)(o.orderTime),1)]),(0,a.wy)((0,a.Wm)(i,{onClick:o.PayOrder,type:"primary",size:"large"},{default:(0,a.w5)((()=>[Kt])),_:1},8,["onClick"]),[[Pt.F8,o.showPay]])]),(0,a._)("div",Bt,[(0,a._)("h4",null,[Qt,(0,a._)("span",null,(0,v.zw)(o.PriceAll)+"元",1)]),Jt]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.goods,(e=>((0,a.wg)(),(0,a.j4)(s,{key:e.id,price:e.price,desc:e.description,title:e.title,thumb:e.cover_url},null,8,["price","desc","title","thumb"])))),128)),(0,a.Wm)(p,{show:o.show,onClick:t[2]||(t[2]=e=>o.show=!1)},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"wrapper",onClick:t[1]||(t[1]=(0,Pt.iM)((()=>{}),["stop"]))},[(0,a._)("div",Xt,[(0,a.Wm)(c,{modelValue:o.payType,"onUpdate:modelValue":t[0]||(t[0]=e=>o.payType=e),onChange:o.tabType},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"1"},{default:(0,a.w5)((()=>[en])),_:1}),(0,a.Wm)(d,{name:"2"},{default:(0,a.w5)((()=>[tn])),_:1})])),_:1},8,["modelValue","onChange"]),(0,a._)("img",{src:e.payQrCodeUrl,alt:"123"},null,8,nn)])])])),_:1},8,["show"]),(0,a.Wm)(m)])}var an={name:"OrderMore",components:{footers:Te.Z},setup(){const e=()=>history.back(),t=(0,i.iH)({}),n=(0,o.yj)(),l=(0,i.iH)("待支付"),r=(0,qe.oR)(),u=(0,i.iH)("1"),s=(0,i.iH)(""),c=(0,i.iH)(!1),p=(0,i.iH)(""),m=(0,i.iH)(""),f=(0,i.iH)(!1),v=(0,i.iH)(""),g=(0,i.iH)(""),h=(0,i.iH)("");(0,a.bv)((()=>{console.log(n.query.id),L(n.query.id).then((e=>{console.log(e),t.value=e.data.goods.data,s.value=e.data.created_at,p.value=e.data.order_no,m.value=e.data.amount,1===e.data.status?(l.value="待支付",c.value=!0):2===e.data.status?l.value="已付款":3===e.data.status?l.value="待发货":4===e.data.status?l.value="代签收":5===e.data.status&&(l.value="订单完成")})),S(n.query.id).then((e=>{console.log(e)}))}));const w=()=>{Et(n.query.id,"aliyun").then((e=>{console.log(e),v.value=e.data.qr_code_url,g.value=e.data.qr_code_url})),Et(n.query.id,"wechat").then((e=>{console.log(e),h.value=e.data.qr_code_url})),d.F.success("订单创建成功，请尽快支付"),f.value=!0,r.dispatch("upCarList")},b=e=>{console.log(e),v.value=1===e?g.value:h.value};return{goods:t,Status:l,orderTime:s,orderNum:p,payType:u,PriceAll:m,onClickLeft:e,showPay:c,PayOrder:w,tabType:b,show:f}}};const ln=(0,p.Z)(an,[["render",on],["__scopeId","data-v-485fcabb"]]);var rn=ln;const un=(0,a.Uk)("` ");function sn(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar"),i=(0,a.up)("van-card"),s=(0,a.up)("van-swipe-cell");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{title:"收藏","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"]),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.collectionList,(e=>((0,a.wg)(),(0,a.j4)(i,{key:e.goods.id,price:e.goods.price,desc:e.goods.description,title:e.goods.title,class:"goods-card",thumb:e.goods.cover_url,onClick:t=>o.goDetail(e.goods_id)},null,8,["price","desc","title","thumb","onClick"])))),128)),un])),_:1})],64)}var dn={name:"Collection",setup(){const e=(0,i.iH)([]),t=()=>history.back(),n=(0,o.tv)();function l(e){const t=e;n.push(`/detail/${t}`)}return(0,a.bv)((()=>{vt().then((t=>{e.value=t.data.data,console.log(e.value),console.log(t)}))})),{onClickLeft:t,collectionList:e,goDetail:l}}};const cn=(0,p.Z)(dn,[["render",sn],["__scopeId","data-v-55c60390"]]);var pn=cn;function mn(e,t,n,o,l,r){const u=(0,a.up)("van-nav-bar");return(0,a.wg)(),(0,a.j4)(u,{title:"关于我们","left-arrow":"",onClickLeft:o.onClickLeft},null,8,["onClickLeft"])}var fn={name:"AboutUs",setup(){const e=()=>history.back();return{onClickLeft:e}}};const vn=(0,p.Z)(fn,[["render",mn]]);var gn=vn;const hn=[{path:"/",name:"home",component:Ee},{path:"/AddressList",name:"AddressList",component:Me},{path:"/AddressEdit",name:"AddressEdit",component:et},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,3399))},{path:"/shopCar",name:"shopCar",component:()=>n.e(443).then(n.bind(n,8515)),meta:{requireAuth:!0}},{path:"/indexMe",name:"indexMe",component:()=>n.e(443).then(n.bind(n,3562)),meta:{requireAuth:!0}},{path:"/detail/:id",name:"detail",component:yt},{path:"/register",name:"register",component:st},{path:"/login",name:"login",component:At},{path:"/setUser",name:"setUser",component:f},{path:"/order",name:"order",component:Nt},{path:"/orderMore",name:"orderMore",component:rn},{path:"/collection",name:"collection",component:pn},{path:"/orderList",name:"orderList",component:U},{path:"/aboutUs",name:"aboutUs",component:gn},{path:"/setPhone",name:"setPhone",component:Z},{path:"/setEmail",name:"setEmail",component:z},{path:"/SetPassword",name:"SetPassword",component:K},{path:"/findPassword",name:"findPassword",component:te}],wn=(0,o.p7)({history:(0,o.PO)(""),routes:hn});wn.beforeEach(((e,t,n)=>{e.meta.requireAuth&&!window.localStorage.getItem("token")?n({name:"login"}):n()}));var bn=wn},4239:function(e,t,n){var o=n(8637),a=n(3585);t["Z"]=(0,o.MT)({state:{loading:!1,carcount:0},getters:{},mutations:{updatecarcount(e,t){e.carcount=t}},actions:{upCarList({commit:e}){(0,a.jC)().then((t=>{e("updatecarcount",t.data.data.length)}))}},modules:{}})},2021:function(e,t,n){n.d(t,{Z:function(){return f}});var o=n(6252);const a=(0,o.Uk)("主页"),l=(0,o.Uk)("分类"),r=(0,o.Uk)("购物车"),u=(0,o.Uk)("我的");function i(e,t,n,i,s,d){const c=(0,o.up)("van-tabbar-item"),p=(0,o.up)("van-tabbar");return(0,o.wg)(),(0,o.j4)(p,{class:"navbar",modelValue:i.active,"onUpdate:modelValue":t[0]||(t[0]=e=>i.active=e),route:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{to:"/",icon:"home-o"},{default:(0,o.w5)((()=>[a])),_:1}),(0,o.Wm)(c,{to:"/about",icon:"apps-o"},{default:(0,o.w5)((()=>[l])),_:1}),(0,o.Wm)(c,{to:"/shopCar",badge:i.store.state.carcount,icon:"shopping-cart-o"},{default:(0,o.w5)((()=>[r])),_:1},8,["badge"]),(0,o.Wm)(c,{to:"/indexMe",icon:"manager-o"},{default:(0,o.w5)((()=>[u])),_:1})])),_:1},8,["modelValue"])}var s=n(2262),d=n(8637),c={name:"footer",setup(){const e=(0,s.iH)(0),t=(0,d.oR)();return{active:e,store:t}}},p=n(3744);const m=(0,p.Z)(c,[["render",i],["__scopeId","data-v-6e4c2fc0"]]);var f=m},735:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(6252);function a(e,t,n,a,l,r){const u=(0,o.up)("van-notice-bar");return(0,o.wg)(),(0,o.j4)(u,{"left-icon":"volume-o",text:"真正的程序员不写文档也不需要文档，只有看不懂程序的笨蛋才用文档。",background:""})}var l={name:"noticeS"},r=n(3744);const u=(0,r.Z)(l,[["render",a]]);var i=u},6142:function(e,t,n){e.exports=n.p+"img/big.1ff7a4c4.png"},2304:function(e,t,n){e.exports=n.p+"img/middle.3f23b8da.png"},407:function(e,t,n){e.exports=n.p+"img/mind.f30f04ff.png"},620:function(e,t,n){e.exports=n.p+"img/perfect.83052574.png"},1686:function(e,t,n){e.exports=n.p+"img/register.6eb793d6.jpg"}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,l){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],l=e[d][2];for(var u=!0,i=0;i<o.length;i++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[i])}))?o.splice(i--,1):(u=!1,l<r&&(r=l));if(u){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.ecc56eb8.js"}}(),function(){n.miniCssF=function(e){return"css/about.9a595670.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vant:";n.l=function(o,a,l,r){if(e[o])e[o].push(a);else{var u,i;if(void 0!==l)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var c=s[d];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==t+l){u=c;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+l),u.src=o),e[o]=[a];var p=function(t,n){u.onerror=u.onload=null,clearTimeout(m);var a=e[o];if(delete e[o],u.parentNode&&u.parentNode.removeChild(u),a&&a.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e=function(e,t,n,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var l=function(l){if(a.onerror=a.onload=null,"load"===l.type)n();else{var r=l&&("load"===l.type?"missing":l.type),u=l&&l.target&&l.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=r,i.request=u,a.parentNode.removeChild(a),o(i)}};return a.onerror=a.onload=l,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],l=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(l===e||l===t))return a}var r=document.getElementsByTagName("style");for(o=0;o<r.length;o++){a=r[o],l=a.getAttribute("data-href");if(l===e||l===t)return a}},o=function(o){return new Promise((function(a,l){var r=n.miniCssF(o),u=n.p+r;if(t(r,u))return a();e(o,u,a,l)}))},a={143:0};n.f.miniCss=function(e,t){var n={443:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=o(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var l=new Promise((function(n,o){a=e[t]=[n,o]}));o.push(a[2]=l);var r=n.p+n.u(t),u=new Error,i=function(o){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var l=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed.\n("+l+": "+r+")",u.name="ChunkLoadError",u.type=l,u.request=r,a[1](u)}};n.l(r,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,r=o[0],u=o[1],i=o[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(i)var d=i(n)}for(t&&t(o);s<r.length;s++)l=r[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},o=self["webpackChunkvant"]=self["webpackChunkvant"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(995)}));o=n.O(o)})();
//# sourceMappingURL=app.9e57a57f.js.map